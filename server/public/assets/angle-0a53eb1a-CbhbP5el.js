import{R as g,u as x,r as u,a as i,M as y}from"./index-CrSqH__w.js";import{BoardContext as C,LINE_LAYER_OFFSET as f}from"./graph-5fd7c87e-CqVNngzu.js";import"./css-5483d03f-CnY6i4xu.js";const F=g.memo(function(b){let{name:j,id:m,SVs:e}=x(b);const l=u.useContext(C);let a=u.useRef(null),s=u.useRef(null),c=u.useRef(null),r=u.useRef(null),h=u.useRef(null);u.useEffect(()=>()=>{p()},[]);function p(){a.current!==null&&(l.removeObject(r.current),r.current=null,l.removeObject(a.current),a.current=null,l.removeObject(s.current),s.current=null,l.removeObject(c.current),c.current=null)}function R(){if(e.numericalPoints.length!==3||e.numericalPoints.some(o=>o.length!==2)||!(Number.isFinite(e.numericalRadius)&&e.numericalRadius>0))return null;var t={name:e.labelForGraph,visible:!e.hidden,withLabel:e.labelForGraph!=="",fixed:!0,layer:10*e.layer+f,radius:e.numericalRadius,fillColor:e.selectedStyle.fillColor,strokeColor:e.selectedStyle.lineColor,highlight:!1,orthoType:e.emphasizeRightAngle?"square":"sector"};t.label={highlight:!1},e.labelHasLatex&&(t.label.useMathJax=!0),h.current=e.labelForGraph!=="";let n;e.swapPointOrder?n=[[...e.numericalPoints[2]],[...e.numericalPoints[1]],[...e.numericalPoints[0]]]:n=[[...e.numericalPoints[0]],[...e.numericalPoints[1]],[...e.numericalPoints[2]]];let d={visible:!1};return a.current=l.create("point",n[0],d),s.current=l.create("point",n[1],d),c.current=l.create("point",n[2],d),l.create("angle",[a.current,s.current,c.current],t)}if(e.hidden)return null;if(l){if(r.current===null)r.current=R();else if(e.numericalPoints.length!==3||e.numericalPoints.some(t=>t.length!==2)||!(Number.isFinite(e.numericalRadius)&&e.numericalRadius>0))p();else{let t;e.swapPointOrder?t=[[...e.numericalPoints[2]],[...e.numericalPoints[1]],[...e.numericalPoints[0]]]:t=[[...e.numericalPoints[0]],[...e.numericalPoints[1]],[...e.numericalPoints[2]]],r.current.point2.coords.setCoordinates(JXG.COORDS_BY_USER,t[0]),r.current.point1.coords.setCoordinates(JXG.COORDS_BY_USER,t[1]),r.current.point3.coords.setCoordinates(JXG.COORDS_BY_USER,t[2]),r.current.setAttribute({radius:e.numericalRadius,visible:!e.hidden});let n=10*e.layer+f;r.current.visProp.layer!==n&&r.current.setAttribute({layer:n}),r.current.visProp.fillcolor!==e.selectedStyle.fillColor&&(r.current.visProp.fillcolor=e.selectedStyle.fillColor),r.current.visProp.strokecolor!==e.selectedStyle.lineColor&&(r.current.visProp.strokecolor=e.selectedStyle.lineColor),r.current.name=e.labelForGraph;let o=e.labelForGraph!=="";o!=h.current&&(r.current.setAttribute({withlabel:o}),h.current=o),r.current.visProp.orthotype=e.emphasizeRightAngle?"square":"sector",r.current.needsUpdate=!0,r.current.update(),r.current.hasLabel&&(r.current.label.needsUpdate=!0,r.current.label.update()),l.updateRenderer()}return i.jsx(i.Fragment,{children:i.jsx("a",{name:m})})}let P="\\("+e.latexForRenderer+"\\)";return i.jsxs(i.Fragment,{children:[i.jsx("a",{name:m}),i.jsx("span",{id:m,children:i.jsx(y,{hideUntilTypeset:"first",inline:!0,dynamic:!0,children:P})})]})});export{F as default};
