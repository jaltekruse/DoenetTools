import{R as A,u as w,r as C,a as e,F as h,ar as S,as as V,V as f,f as _,b as I,c as T,d as F}from"./index-CrSqH__w.js";import{a as L}from"./composites-45ca3f18-Kun0wLiJ.js";const P=A.memo(function(k){var g;let{name:N,id:t,SVs:i,children:a,actions:u,callAction:x}=w(k),b=r=>{x({action:u.recordVisibilityChange,args:{isVisible:r}})};if(C.useEffect(()=>()=>{x({action:u.recordVisibilityChange,args:{isVisible:!1}})},[]),i.hidden)return null;let o=C.useRef(null);const R=()=>{o.current="unvalidated",i.justSubmitted&&(i.creditAchieved===1?o.current="correct":i.creditAchieved===0?o.current="incorrect":o.current="partialcorrect")};let v=()=>x({action:u.submitAllAnswers}),n,j=null;if(i.titleChildName){for(let[r,m]of a.entries())if(((g=m==null?void 0:m.props)==null?void 0:g.componentInstructions.componentName)===i.titleChildName){n=a[r],a.splice(r,1),j=r;break}}n?n=e.jsxs(e.Fragment,{children:[i.titlePrefix,n]}):i.inAList||(n=i.title);let l=null,p=t+"_title";i.collapsible&&(i.open?n=e.jsxs(e.Fragment,{children:[e.jsx(h,{icon:S})," ",n," (click to close)"]}):n=e.jsxs(e.Fragment,{children:[e.jsx(h,{icon:V})," ",n," (click to open)"]}));let c={};switch((i.collapsible||i.boxed)&&(c={marginBlockStart:0,marginBlockEnd:0}),i.level){case 0:l=e.jsx("h1",{id:p,style:c,children:n});break;case 1:l=e.jsx("h2",{id:p,style:c,children:n});break;case 2:l=e.jsx("h3",{id:p,style:c,children:n});break;case 3:l=e.jsx("h4",{id:p,style:c,children:n});break;case 4:l=e.jsx("h5",{id:p,style:c,children:n});break;default:l=e.jsx("h6",{id:p,style:c,children:n});break}let s=null;if(i.createSubmitAllButton&&!i.suppressCheckwork){R();let r={height:"23px",display:"inline-block",backgroundColor:"var(--mainBlue)",padding:"1px 6px 1px 6px",color:"white",fontWeight:"bold",marginBottom:"30px"},m=i.submitLabel;if(i.showCorrectness||(m=i.submitLabelNoCorrectness),s=e.jsxs("button",{id:t+"_submit",tabIndex:"0",style:r,onClick:v,onKeyPress:y=>{y.key==="Enter"&&v()},children:[e.jsx(h,{icon:_,transform:{rotate:90}})," ",m]}),i.showCorrectness){if(o.current==="correct")r.backgroundColor="var(--mainGreen)",s=e.jsxs("span",{id:t+"_correct",style:r,children:[e.jsx(h,{icon:I}),"  Correct"]});else if(o.current==="incorrect")r.backgroundColor="var(--mainRed)",s=e.jsxs("span",{id:t+"_incorrect",style:r,children:[e.jsx(h,{icon:T}),"  Incorrect"]});else if(o.current==="partialcorrect"){r.backgroundColor="var(--mainYellow)";let B=`${Math.round(i.creditAchieved*100)}% Correct`;s=e.jsx("span",{id:t+"_partial",style:r,children:B})}}else o.current!=="unvalidated"&&(r.backgroundColor="var(--mainPurple)",s=e.jsxs("span",{id:t+"_saved",style:r,children:[e.jsx(h,{icon:F}),"  Response Saved"]}));s=e.jsx("div",{children:s})}i.asList?a=e.jsx("ol",{children:a.map(r=>e.jsx("li",{children:r}))}):i._compositeReplacementActiveRange&&(a=L({children:a,compositeReplacementActiveRange:i._compositeReplacementActiveRange,startInd:0,endInd:a.length-1,removedInd:j}));let d=e.jsxs(e.Fragment,{children:[e.jsx("a",{name:t}),l,a,s]});if(i.collapsible){let r=null;i.open&&(r=e.jsxs("div",{style:{display:"block",padding:"6px"},children:[a,s]})),d=e.jsxs("div",{style:{border:"var(--mainBorder)",borderRadius:"var(--mainBorderRadius)",marginTop:"24px"},children:[e.jsxs("div",{style:{backgroundColor:"var(--mainGray)",cursor:"pointer",padding:"6px",borderBottom:i.open?"var(--mainBorder)":"none",borderTopLeftRadius:"var(--mainBorderRadius)",borderTopRightRadius:"var(--mainBorderRadius)"},onClick:()=>x({action:i.open?u.closeSection:u.revealSection}),children:[e.jsx("a",{name:t}),l]}),r]})}else i.boxed&&(d=e.jsxs("div",{style:{border:"var(--mainBorder)",borderRadius:"var(--mainBorderRadius)",marginTop:"24px"},children:[e.jsxs("div",{style:{padding:"6px",borderBottom:"var(--mainBorder)",backgroundColor:"var(--mainGray)",borderTopLeftRadius:"var(--mainBorderRadius)",borderTopRightRadius:"var(--mainBorderRadius)"},children:[e.jsx("a",{name:t}),l]}),e.jsxs("div",{style:{display:"block",padding:"6px"},children:[a,s]})]}));switch(i.containerTag){case"aside":return e.jsx(f,{partialVisibility:!0,onChange:b,children:e.jsxs("aside",{id:t,style:{margin:"12px 0"},children:[" ",d," "]})});case"article":return e.jsx(f,{partialVisibility:!0,onChange:b,children:e.jsxs("article",{id:t,style:{margin:"12px 0"},children:[" ",d," "]})});case"div":return e.jsx(f,{partialVisibility:!0,onChange:b,children:e.jsxs("div",{id:t,style:{margin:"12px 0"},children:[" ",d," "]})});case"none":return e.jsx(e.Fragment,{children:d});default:return e.jsx(f,{partialVisibility:!0,onChange:b,children:e.jsxs("section",{id:t,style:{margin:"12px 0"},children:[" ",d," "]})})}});export{P as default};
