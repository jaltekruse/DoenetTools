import{q as U,R as j,u as _,r as A,a as e,V as S,h as u}from"./index-DVZ7nus4.js";const V=U.svg`
    border: "2px solid red";
    margin: 2px;
    outline: none;
`,X=j.memo(function y(t){let{name:w,id:o,SVs:d,actions:l,callAction:r}=_(t),b=d.selectedRowIndex-1,v=d.selectedBoxIndex-1;y.ignoreActionsWithoutCore=()=>!0;let c=A.createRef(d.fixed);c.current=d.fixed;let h=i=>{r({action:l.recordVisibilityChange,args:{isVisible:i}})};if(A.useEffect(()=>()=>{r({action:l.recordVisibilityChange,args:{isVisible:!1}})},[]),d.hidden)return null;function f(i){c.current||r({action:l.selectRow,args:{index:Number(i)+1}})}function g(i,s){c.current||(s!==void 0&&r({action:l.selectRow,args:{index:Number(s)+1}}),r({action:l.selectBox,args:{index:Number(i)+1}}))}function n(i){c.current||r({action:l.updateRowText,args:{newValue:i}})}function a(i){var s,p,k,R,B,m,T,C,D,O;((s=i.relatedTarget)==null?void 0:s.id)!==`orbitaladdrow${o}`&&((p=i.relatedTarget)==null?void 0:p.id)!==`orbitalremoverow${o}`&&((k=i.relatedTarget)==null?void 0:k.id)!==`orbitaladdbox${o}`&&((R=i.relatedTarget)==null?void 0:R.id)!==`orbitaladduparrow${o}`&&((B=i.relatedTarget)==null?void 0:B.id)!==`orbitaladddownarrow${o}`&&((m=i.relatedTarget)==null?void 0:m.id)!==`orbitalremovearrow${o}`&&((T=i.relatedTarget)==null?void 0:T.id)!==`orbitalremovebox${o}`&&(((C=i.relatedTarget)==null?void 0:C.id)!==`OrbitalText${b}${o}`&&((D=i.relatedTarget)==null?void 0:D.id)!==`OrbitalRow${b}${o}`&&((O=i.relatedTarget)==null?void 0:O.id.substring(0,10+o.length))!==`orbitalbox${o}`&&f(-1),g(-1))}let x=[];for(let[i,s]of Object.entries(d.rows)){let p=d.rows.length-i-1;x.push(e.jsx(W,{updateRowText:n,rowNumber:p,selectedRow:b,setSelectedRow:f,orbitalText:s.orbitalText,boxes:s.boxes,selectedBox:v,setSelectedBox:g,deselect:a,name:o},`OrbitalRow${p}`))}let $=null;return d.fixed||($=e.jsxs("div",{children:[e.jsx("div",{style:{display:"inline-block",marginRight:"4px"},children:e.jsx(u,{id:`orbitaladdrow${o}`,onBlur:i=>{a(i)},onClick:()=>{r({action:l.addRow})},value:"Add Row"})}),e.jsx("div",{style:{display:"inline-block",marginRight:"4px"},children:e.jsx(u,{id:`orbitalremoverow${o}`,onClick:()=>{r({action:l.removeRow})},value:"Remove Row"})}),e.jsx("div",{style:{display:"inline-block",marginRight:"4px"},children:e.jsx(u,{id:`orbitaladdbox${o}`,onBlur:i=>{a(i)},onClick:()=>{r({action:l.addBox})},value:"Add Box"})}),e.jsx("div",{style:{display:"inline-block",marginRight:"4px"},children:e.jsx(u,{id:`orbitalremovebox${o}`,onBlur:i=>{a(i)},onClick:()=>{r({action:l.removeBox})},value:"Remove Box"})}),e.jsx("div",{style:{display:"inline-block",marginRight:"4px"},children:e.jsx(u,{id:`orbitaladduparrow${o}`,onBlur:i=>{a(i)},onClick:()=>{r({action:l.addUpArrow})},value:"Add Up Arrow"})}),e.jsx("div",{style:{display:"inline-block",marginRight:"4px"},children:e.jsx(u,{id:`orbitaladddownarrow${o}`,onBlur:i=>{a(i)},onClick:()=>{r({action:l.addDownArrow})},value:"Add Down Arrow"})}),e.jsx("div",{style:{display:"inline-block",marginRight:"4px"},children:e.jsx(u,{id:`orbitalremovearrow${o}`,onBlur:i=>{a(i)},onClick:()=>{r({action:l.removeArrow})},value:"Remove Arrow"})})]})),e.jsx(S,{partialVisibility:!0,onChange:h,children:e.jsxs(e.Fragment,{children:[$,x]})})}),W=j.memo(function({rowNumber:t,updateRowText:w,selectedRow:o,setSelectedRow:d,orbitalText:l,boxes:r,selectedBox:b,setSelectedBox:v,deselect:c,name:h}){let f={width:"800px",height:"44px",display:"flex",backgroundColor:"#E2E2E2",marginTop:"2px",marginBottom:"2px",padding:"2px",border:"white solid 2px"};o===t&&(f.border="#1A5A99 solid 2px");let g=[];for(let[n,a]of Object.entries(r)){let x=!1;o==t&&b==n&&(x=!0),g.push(e.jsx(E,{boxNum:n,rowNumber:t,arrows:a,isSelected:x,setSelectedBox:v,name:h},`OrbitalBox${t}-${n}`))}return e.jsxs("div",{id:`OrbitalRow${t}${h}`,tabIndex:"-1",onClick:()=>{o!==t&&d(t)},onBlur:n=>{c(n)},style:f,children:[e.jsx(I,{orbitalText:l,rowNumber:t,updateRowText:w,name:h}),g]},`OrbitalRow${t}`)}),I=j.memo(function({rowNumber:t,updateRowText:w,orbitalText:o,name:d}){return e.jsx("input",{id:`OrbitalText${t}${d}`,style:{marginRight:"4px",height:"14px"},type:"text",size:"4",value:o,onChange:l=>{let r=l.target.value;w(r)}})}),E=j.memo(function({boxNum:t,arrows:w="",setSelectedBox:o,isSelected:d,rowNumber:l,name:r}){const b=e.jsx("polyline",{id:`firstUp${t}`,points:"6,14 12,6 18,14 12,6 12,35",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxfirstUp${t}`),v=e.jsx("polyline",{id:`firstDown${t}`,points:"6,26 12,34 18,26 12,34 12,5",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxfirstDown${t}`),c=e.jsx("polyline",{id:`secondUp${t}`,points:"22,14 28,6 34,14 28,6 28,35",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxsecondUp${t}`),h=e.jsx("polyline",{id:`secondDown${t}`,points:"22,26 28,34 34,26 28,34 28,5",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxsecondDown${t}`),f=e.jsx("polyline",{id:`thirdUp${t}`,points:"38,14 44,6 50,14 44,6 44,35",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxthirdUp${t}`),g=e.jsx("polyline",{id:`thirdDown${t}`,points:"38,26 44,34 50,26 44,34 44,5",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxthirdDown${t}`);let n=[],[a,x,$]=w.split("");a=="U"&&n.push(b),a=="D"&&n.push(v),x=="U"&&n.push(c),x=="D"&&n.push(h),$=="U"&&n.push(f),$=="D"&&n.push(g);let i=40;$&&(i=56);let s="black",p="2px";return d&&(s="#1A5A99",p="6px"),e.jsxs(V,{id:`orbitalbox${r}${l}-${t}`,tabIndex:"-1",onClick:k=>{o(t,l),k.stopPropagation()},width:i,height:"40",children:[e.jsx("rect",{x:"0",y:"0",rx:"4",ry:"4",width:i,height:"40",style:{fill:"white",stroke:s,strokeWidth:p,fillOpacity:"1",strokeOpacity:"1"}}),n]},`orbitalbox${t}`)});export{X as default};
